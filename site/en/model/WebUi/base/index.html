
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="一个介绍 Ai 绘画的 WIKI/A WIKI about Ai painting" name="description"/>
<meta content="StableDiffusionBook Team" name="author"/>
<link href="https://stable-diffusion-book.vercel.app/en/model/WebUi/base/" rel="canonical"/>
<link href="../" rel="prev"/>
<link href="../Troubleshoot/" rel="next"/>
<link href="../../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-9.0.12" name="generator"/>
<title>Base guide - AiDraw</title>
<link href="../../../../assets/stylesheets/main.0d440cfe.min.css" rel="stylesheet"/>
<link href="../../../../assets/stylesheets/palette.2505c338.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<meta content="website" property="og:type"/>
<meta content="Base guide - AiDraw" property="og:title"/>
<meta content="一个介绍 Ai 绘画的 WIKI/A WIKI about Ai painting" property="og:description"/>
<meta content="https://stable-diffusion-book.vercel.app/assets/images/social/model/WebUi/base.en.png" property="og:image"/>
<meta content="image/png" property="og:image:type"/>
<meta content="1200" property="og:image:width"/>
<meta content="630" property="og:image:height"/>
<meta content="https://stable-diffusion-book.vercel.app/en/model/WebUi/base/" property="og:url"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="Base guide - AiDraw" name="twitter:title"/>
<meta content="一个介绍 Ai 绘画的 WIKI/A WIKI about Ai painting" name="twitter:description"/>
<meta content="https://stable-diffusion-book.vercel.app/assets/images/social/model/WebUi/base.en.png" name="twitter:image"/>
<link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src="../../../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="" data-md-color-primary="white" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#configure">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="AiDraw" class="md-header__button md-logo" data-md-component="logo" href="../../../" title="AiDraw">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m20.71 4.63-1.34-1.34c-.37-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.04 0-1.41M7 14a3 3 0 0 0-3 3c0 1.31-1.16 2-2 2 .92 1.22 2.5 2 4 2a4 4 0 0 0 4-4 3 3 0 0 0-3-3Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            AiDraw
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Base guide
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="" data-md-color-media="" data-md-color-primary="white" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="" data-md-color-media="" data-md-color-primary="black" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
</form>
<div class="md-header__option">
<div class="md-select">
<button aria-label="Select language" class="md-header__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"></path></svg>
</button>
<div class="md-select__inner">
<ul class="md-select__list">
<li class="md-select__item">
<a class="md-select__link" href="../../../../model/WebUi/base/" hreflang="zh">
                    简体中文
                  </a>
</li>
<li class="md-select__item">
<a class="md-select__link" href="./" hreflang="en">
                    English
                  </a>
</li>
</ul>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/sudoskys/StableDiffusionBook" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../">
        Start here
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../Perpare/">
        Before start
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../install/">
        Installation
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../../">
        Configuration
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../paint/">
        Paint guide
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../train/">
        Train Model
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../landing/">
        References
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="AiDraw" class="md-nav__button md-logo" data-md-component="logo" href="../../../" title="AiDraw">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m20.71 4.63-1.34-1.34c-.37-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.04 0-1.41M7 14a3 3 0 0 0-3 3c0 1.31-1.16 2-2 2 .92 1.22 2.5 2 4 2a4 4 0 0 0 4-4 3 3 0 0 0-3-3Z"></path></svg>
</a>
    AiDraw
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/sudoskys/StableDiffusionBook" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_1" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../">Start here</a>
<label for="__nav_1">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
          Start here
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../GettingStarted/news/">
        News
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../GettingStarted/term/">
        Terminology
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../GettingStarted/state/">
        Statement
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../GettingStarted/contributing/">
        Contribution Guide
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../Perpare/">Before start</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Before start
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../install/">Installation</a>
<label for="__nav_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Installation
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          Install SDWebUi
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
          Install SDWebUi
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../install/WebUi/set/">
        Base guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../install/WebUi/launch/">
        LaunchWebUi
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../install/WebUi/Troubleshoot/">
        Troubleshoot
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../">Configuration</a>
<label for="__nav_4">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../GPU/">
        Gpu Debuging
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../NAI/">
        NAI leak report
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4_4" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../">WebUi 配置</a>
<label for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_4_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
          WebUi 配置
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Base guide
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Base guide
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#basics">
    Basics
  </a>
<nav aria-label="Basics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#parameter-intro">
    Parameter intro
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#security-issues-with-ckpt-models-3">
    Security issues with ckpt models 3
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-tutorials">
    Advanced tutorials
  </a>
<nav aria-label="Advanced tutorials" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#start-up-process-5">
    Start-up process 5
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#replicating-the-nai-official-website-using-webui">
    Replicating the NAI official website using WebUI
  </a>
<nav aria-label="Replicating the NAI official website using WebUI" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#things-to-do">
    Things to do
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#doesnt-need-to-do">
    Doesn't need  to do
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#half-precision-or-single-precision">
    Half-precision or single-precision?
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xy-graphs">
    X/Y graphs
  </a>
<nav aria-label="X/Y graphs" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#prompt-sr">
    Prompt S/R
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#variations">
    Variations
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#styles">
    Styles
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xformers">
    xformers
  </a>
<nav aria-label="xformers" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#xformers_1">
    Xformers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#windows-compiler-error-self-check">
    Windows compiler error self-check
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#painting-with-the-cpu">
    Painting with the CPU
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#clip-interrogate">
    CLIP Interrogate
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#face-restorationthree-dimensional-face-restoration">
    Face restorationThree dimensional face restoration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#user-scripts">
    User scripts
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#customcss">
    Custom.css
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#notificationmp3">
    notification.mp3 提示音
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#custom-scripts">
    Custom Scripts
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#developing-custom-scripts">
    Developing custom scripts
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#trimming-the-model-6">
    Trimming the model 6
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run">
    RUN
  </a>
<nav aria-label="RUN" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#4gb-graphics-card-support">
    4GB graphics card support
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#uninterrupted-production">
    Uninterrupted Production
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#saving">
    Saving
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#loading">
    Loading
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#png-info">
    Png info
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nai-4chan-ver">
    NAI 4chan ver
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Troubleshoot/">
        Troubleshoot
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Paint guide
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Paint guide
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_5_1" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../paint/">General</a>
<label for="__nav_5_1">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_1">
<span class="md-nav__icon md-icon"></span>
          General
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../paint/PromptsEngineering/">
        Prompts Engineer
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_5_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../paint/WebUi/">Paint With WebUi</a>
<label for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
          Paint With WebUi
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../paint/WebUi/base/">
        Txt2Guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../paint/WebUi/Advanced/">
        Img2Guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../paint/WebUi/extension/">
        Extension
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
          Application Guide
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_3">
<span class="md-nav__icon md-icon"></span>
          Application Guide
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../paint/Practicalguide/">
        Practical Guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../paint/identify/">
        Identify
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_6" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../train/">Train Model</a>
<label for="__nav_6">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Train Model
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../train/Textual/">
        Textual Inversion
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../train/Hypernetwork/">
        Hypernetwork
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../train/DreamBooth/">
        DreamBooth
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../train/Lora/">
        Lora
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../train/AestheticGradients/">
        AestheticGradients
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_7" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../../landing/">References</a>
<label for="__nav_7">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          References
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../landing/link/">
        Resource List
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#basics">
    Basics
  </a>
<nav aria-label="Basics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#parameter-intro">
    Parameter intro
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#security-issues-with-ckpt-models-3">
    Security issues with ckpt models 3
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-tutorials">
    Advanced tutorials
  </a>
<nav aria-label="Advanced tutorials" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#start-up-process-5">
    Start-up process 5
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#replicating-the-nai-official-website-using-webui">
    Replicating the NAI official website using WebUI
  </a>
<nav aria-label="Replicating the NAI official website using WebUI" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#things-to-do">
    Things to do
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#doesnt-need-to-do">
    Doesn't need  to do
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#half-precision-or-single-precision">
    Half-precision or single-precision?
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xy-graphs">
    X/Y graphs
  </a>
<nav aria-label="X/Y graphs" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#prompt-sr">
    Prompt S/R
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#variations">
    Variations
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#styles">
    Styles
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xformers">
    xformers
  </a>
<nav aria-label="xformers" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#xformers_1">
    Xformers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#windows-compiler-error-self-check">
    Windows compiler error self-check
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#painting-with-the-cpu">
    Painting with the CPU
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#clip-interrogate">
    CLIP Interrogate
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#face-restorationthree-dimensional-face-restoration">
    Face restorationThree dimensional face restoration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#user-scripts">
    User scripts
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#customcss">
    Custom.css
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#notificationmp3">
    notification.mp3 提示音
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#custom-scripts">
    Custom Scripts
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#developing-custom-scripts">
    Developing custom scripts
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#trimming-the-model-6">
    Trimming the model 6
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run">
    RUN
  </a>
<nav aria-label="RUN" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#4gb-graphics-card-support">
    4GB graphics card support
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#uninterrupted-production">
    Uninterrupted Production
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#saving">
    Saving
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#loading">
    Loading
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#png-info">
    Png info
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nai-4chan-ver">
    NAI 4chan ver
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="configure">Configure</h1>
<p>This page discusses the interface parameters and features of WebUi.</p>
<h2 id="basics">Basics</h2>
<p>Some basic parameters are described.</p>
<blockquote>
<p>Most of the content in this section is from the <a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/wiki/">Wiki page</a>, so for English users, it may be better to read the original documentation.</p>
</blockquote>
<h3 id="parameter-intro">Parameter intro</h3>
<p>The number of iterations of <code>step</code> is related to the <code>sampling method</code>, the <code>DDIM</code> method converges faster, see `Sampler vs.</p>
<p><code>batch count/batch size</code> determines the number of generated images, if the VRAM is enough, add the batch size, if not, add the batch count, the number of images obtained is the product of both (small VRAM or just count is good)</p>
<p>DDIM, Eula also works well. (with a is the meaning of ancestral, step growth out of the map is not stable)</p>
<p><code>cfg scale</code> conforms to the degree of prompt, the higher the value will literally look prompt, low will give the model more room to play, but the actual model performance on the CFG scale low (6-8) saturation is low, biased line drawing, biased clutter, high (18-22) then saturation is high, biased CG style.</p>
<blockquote>
<p>Too high CFG will cause color distortion, CFG should be between 5-15</p>
</blockquote>
<p><code>denoise strength</code> img2img proprietary parameter, from 0 to 1, the higher the value the lower the AI reference to the original image (while increasing the number of iterations), personally I like low CFG high denoise heavy drawing, high CFG low denoise change the details.</p>
<p><a href="https://www.reddit.com/r/StableDiffusion/comments/xbeyw3/can_anyone_offer_a_little_guidance_on_the/">A small guide: RedditAbout</a></p>
<h3 id="security-issues-with-ckpt-models-3">Security issues with ckpt models <sup id="fnref:4"><a class="footnote-ref" href="#fn:4">3</a></sup></h3>
<p>The ckpt file can execute essentially anything when loaded, and loading it blindly is a security risk. Please check if the source is reliable before loading.
If antivirus software intercepts it, it is possible that the creator has injected malicious Python code into the file.</p>
<p>You can check for risks with this script: <a href="https://rentry.org/safeunpickle2">https://rentry.org/safeunpickle2</a></p>
<h2 id="advanced-tutorials">Advanced tutorials</h2>
<h3 id="start-up-process-5">Start-up process <sup id="fnref:6"><a class="footnote-ref" href="#fn:6">5</a></sup></h3>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://user-images.githubusercontent.com/75739606/198679721-2a7b38b8-41f3-405c-9ea3-40f1b5e8cc7e.png"><img alt="Roaming_info.png" src="https://user-images.githubusercontent.com/75739606/198679721-2a7b38b8-41f3-405c-9ea3-40f1b5e8cc7e.png"/></a></p>
<!--
![Roaming_info.png](https://raw.githubusercontent.com/sudoskys/StableDiffusionBook/main/resource/infofrom_bili_uid_87077691.png)
-->
<blockquote>
<p>From allophane.com/index.php/2022/10/17/roaming_info_for_latent_diffusion/</p>
</blockquote>
<h3 id="replicating-the-nai-official-website-using-webui">Replicating the NAI official website using WebUI</h3>
<p><a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/2017">Related discussion</a></p>
<p>Tip: Due to the nature of torch and its associated frameworks, it is not wise to try to fully recover images generated on a different machine. So don't get hung up on details that can't be reproduced.</p>
<h4 id="things-to-do">Things to do</h4>
<ul>
<li>
<p>Load VAE and the <code>config.yaml</code> that comes with the model (optional, some people say this operation consumes VRAM)</p>
</li>
<li>
<p><code>Stop At last layers of CLIP model</code> set to <code>2</code></p>
</li>
<li>
<p><code>Eta noise seed delta</code> set to <code>31337</code></p>
</li>
</ul>
<h4 id="doesnt-need-to-do"><strong>Doesn't need </strong> to do</h4>
<ul>
<li>hypernetwork. the website does not use hypernetwork by default</li>
</ul>
<p>TIPS:</p>
<p>The <code>Stop At last layers of CLIP model</code> is set to match one of the NAI <a href="https://blog.novelai.net/novelai-improvements-on-stable-diffusion-e10d38db82ac">optimizations</a>.</p>
<h3 id="half-precision-or-single-precision">Half-precision or single-precision?</h3>
<p>If you can, try to use half-precision, it saves computing time/RAM/VRAM, while the image quality is not much worse than single-precision. ~The difference is probably the same as if your computer was hit by cosmic rays.</p>
<h3 id="xy-graphs">X/Y graphs</h3>
<p>Creates a grid of images with varying parameters. Select which parameters should be shared by rows and columns using X type and Y type fields, and input those parameters separated by comma into X values/Y values fields. For integer, and floating point numbers, and ranges are supported.</p>
<p>Simple ranges</p>
<div class="highlight"><pre><span></span><code>1-5 = 1, 2, 3, 4, 5
</code></pre></div>
<p>Ranges with increment in bracket</p>
<div class="highlight"><pre><span></span><code>1-5 (+2) = 1, 3, 5
10-5 (-3) = 10, 7
1-3 (+0.5) = 1, 1.5, 2, 2.5, 3
</code></pre></div>
<p>Ranges with the count in square brackets</p>
<div class="highlight"><pre><span></span><code>1-10 [5] = 1, 3, 5, 7, 10
0.0-1.0 [6] = 0.0, 0.2, 0.4, 0.6, 0.8, 1.0
</code></pre></div>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="https://raw.githubusercontent.com/wiki/AUTOMATIC1111/stable-diffusion-webui/images/xy_grid-medusa-ui.png"><img alt="pic" src="https://raw.githubusercontent.com/wiki/AUTOMATIC1111/stable-diffusion-webui/images/xy_grid-medusa-ui.png"/></a></p>
<blockquote>
<p>FromWebUiWiki</p>
</blockquote>
<h4 id="prompt-sr">Prompt S/R</h4>
<p>Prompt S/R is one of more difficult to understand modes of operation
for X/Y Plot. S/R stands for search/replace, and that's what it does -
you input a list of words or phrases, it takes the first from the list
and treats it as keyword, and replaces all instances of that keyword
with other entries from  the list.</p>
<p>For example, with prompt <code>a man holding an apple, 8k clean</code>, and Prompt S/R <code>an apple, a watermelon, a gun</code> you will get three prompts:</p>
<ul>
<li><code>a man holding an apple, 8k clean</code></li>
<li><code>a man holding a watermelon, 8k clean</code></li>
<li><code>a man holding a gun, 8k clean</code></li>
</ul>
<p>The list uses the same syntax as a line in a CSV file, so if you want
to include commas into your entries you have to put text in quotes and
make sure there is no space between quotes and separating commas:</p>
<ul>
<li><code>darkness, light, green, heat</code> - 4 items - <code>darkness</code>, <code>light</code>, <code>green</code>, <code>heat</code></li>
<li><code>darkness, "light, green", heat</code> - WRONG - 4 items - <code>darkness</code>, <code>"light</code>, <code>green"</code>, <code>heat</code></li>
<li><code>darkness,"light, green",heat</code> - RIGHT - 3 items - <code>darkness</code>, <code>light, green</code>, <code>heat</code></li>
</ul>
<h3 id="variations"><strong>Variations</strong></h3>
<p>This parameter is used for the seed merge operation.</p>
<p>A Variation strength slider and Variation seed field allow you to specify how much the existing picture should be altered to look like a different one. At maximum strength, you will get pictures with the Variation seed, at minimum - pictures with the original Seed (except for when using ancestral samplers).</p>
<h3 id="styles"><strong>Styles</strong></h3>
<p>Press the "Save prompt as style" button to write your current prompt to styles.csv, the file with a collection of styles. A dropbox to the right of the prompt will allow you to choose any style out of previously saved, and automatically append it to your input. To delete a style, manually delete it from styles.csv and restart the program.</p>
<p>if you use the special string {prompt} in your style, it will substitute anything currently in the prompt into that position, rather than appending the style to your prompt.</p>
<h3 id="xformers">xformers</h3>
<p>xformers The higher the resolution the better the acceleration. Using xformers introduces some randomness that slightly affects the generated image.</p>
<p>To enable it, if you have a Pascal, Turing or Ampere architecture card (including GTX 1000, RTX 2000, 3000 series), add the <code>-xformers</code> parameter to <code>COMMANDLINE_ARGS</code> in <code>webui-user.bat</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Please note that some people say that performance is significantly worse with xformers on 700 and 900 series cards.
I have measured that the 2050 is 50% slower with xformers enabled</p>
</div>
<h4 id="xformers_1">Xformers</h4>
<p>If you have a Pascal, Turing or Ampere architecture card (including GTX 1000, RTX 2000, 3000 series), add the <code>--xformers</code> parameter to <code>COMMANDLINE_ARGS</code> in <code>webui-user.bat</code> <strong>without having to compile and install it again yourself.</strong></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>You can download pre-built Xformers at the link on the right! https://rentry.org/25i6yn and remember to check out <a href="https://developer.nvidia.com/cuda-gpus">GPU Architecture</a> first!</p>
</div>
<p>Make sure the Python version is 3.10 or higher (use <code>Python --version</code>), then install</p>
<p>Install <a href="https://visualstudio.microsoft.com/zh-hans/downloads/?q=build+tools">VS Build Tools 2022</a>, you only need Desktop development with C++</p>
<p>Install <a href="https://developer.nvidia.com/cuda-11.3.0-download-archive">CUDA 11.3</a> (later versions are not tested), select <code>custom</code>, you only need the following (VS integration is probably unecessary):</p>
<ul>
<li>Clone the <a href="https://github.com/facebookresearch/xformers">xFormers</a> repo, create a <code>venv</code> and activate it</li>
</ul>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/facebookresearch/xformers.git
<span class="nb">cd</span><span class="w"> </span>xformers
git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--init<span class="w"> </span>--recursive
python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>venv
./venv/scripts/activate
</code></pre></div>
<ul>
<li>To avoid issues with getting the CPU version, <a href="https://pytorch.org/get-started/locally/">install pyTorch seperately</a>:</li>
</ul>
<div class="highlight"><pre><span></span><code>pip install torch torchvision --extra-index-url https://download.pytorch.org/whl/cu113
</code></pre></div>
<ul>
<li>Then install the rest of the dependencies</li>
</ul>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
pip<span class="w"> </span>install<span class="w"> </span>wheel
pip<span class="w"> </span>install<span class="w"> </span>ninja
</code></pre></div>
<ul>
<li>As CUDA 11.3 is rather old, you need to force enable it to be built on MS Build Tools 2022.</li>
</ul>
<p>Do <code>$env:NVCC_FLAGS = "-allow-unsupported-compiler"</code></p>
<p>if on <code>powershell</code>, or <code>set NVCC_FLAGS=-allow-unsupported-compiler</code> if on <code>cmd</code></p>
<p>You can finally build xFormers, note that the build will take a long time (probably 10-20minutes), it may initially complain of some errors but it should still compile correctly.</p>
<div class="highlight"><pre><span></span><code>OPTIONAL tip: To further speed up on multi-core CPU Windows systems, install ninja https://github.com/ninja-build/ninja. Steps to install:

        download ninja-win.zip from https://github.com/ninja-build/ninja/releases and unzip
        place ninja.exe under C:\Windows OR add the full path to the extracted ninja.exe into system PATH
        Run ninja -h in cmd and verify if you see a help message printed
        Run the follow commands to start building. It should automatically use Ninja, no extra config is needed. You should see significantly higher CPU usage (40%+).

    python setup.py build
    python setup.py bdist_wheel

    This has reduced build time on a windows PC with a AMD 5800X CPU from 1.5hr to 10min. Ninja is also supported on Linux and MacOS but I do not have these OS to test thus can not provide step-by-step tutorial.
</code></pre></div>
<ul>
<li>Run the following</li>
</ul>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>setup.py<span class="w"> </span>build
python<span class="w"> </span>setup.py<span class="w"> </span>bdist_wheel
</code></pre></div>
<p>In <code>xformers</code> directory, navigate to the <code>dist</code> folder and copy the <code>.whl</code> file to the base directory of <code>stable-diffusion-webui</code></p>
<p>In <code>stable-diffusion-webui</code> directory, install the <code>.whl</code>, change the name of the file in the command below if the name is different:</p>
<div class="highlight"><pre><span></span><code>MD
./venv/scripts/activate
<span class="c1">#Bash</span>
<span class="nb">source</span><span class="w"> </span>./venv/bin/activate
<span class="c1">#WindowsBash</span>
<span class="nb">source</span><span class="w"> </span>./venv/Scripts/activate
pip<span class="w"> </span>install<span class="w"> </span>xformers-0.0.14.dev0-cp310-cp310-win_amd64.whl
</code></pre></div>
<ul>
<li>Add <code>-xformers</code> for 30XX GPU, <code>--force-enable-xformers</code> for other GPU</li>
</ul>
<h4 id="windows-compiler-error-self-check">Windows compiler error self-check</h4>
<blockquote>
<p>Error: <code>Filename too long</code> and <code>fatal error C1083: Cannot open compiler generated file: '': Invalid argument</code></p>
</blockquote>
<p>It means your path is too long.</p>
<blockquote>
<p>RuntimeError: CUDA error: no kernel image is available for execution on the device</p>
</blockquote>
<p>Now that more GPU architectures are automatically supported, try reinstalling and using the --xformers argument.</p>
<p>If you moved Xformers, then you should remove the venv directory inside</p>
<p><a href="https://github.com/C43H66N12O12S2/stable-diffusion-webui/releases">Windows</a> (You have to compile it yourself outside of the 30XX GPU)</p>
<p>Compile Guide <a href="https://rentry.org/sdg_faq#xformers-increase-your-its-more-cards-supported">wiki/Xformers</a>， And another guide <a href="https://www.reddit.com/r/StableDiffusion/comments/xz26lq/automatic1111_xformers_cross_attention_with_on/">Here</a></p>
<h3 id="painting-with-the-cpu">Painting with the CPU</h3>
<blockquote>
<p>https://github.com/AUTOMATIC1111/stable-diffusion-webui/pull/2597</p>
</blockquote>
<p>You can generate as much as possible using the CPU with <code>-use-cpu all</code>, although 100 times slower.</p>
<h3 id="clip-interrogate">CLIP Interrogate</h3>
<p>CLIP can extract tokens from images.</p>
<p>By default, there is only one list - the artists list (from artists.csv).</p>
<p>However you can add more lists by doing the following.
* interrogate creates a directory in the same location as the WebUI
* put a text file into it, with a description on each line</p>
<p>You can see an example of which text file to use at <a href="https://github.com/pharmapsychotic/clip-interrogator/tree/main/data">here</a>. In fact, you could just use the files in this example - except for <code>artists.txt</code>, you already have a list of artists in <code>artists.csv</code> don't you.</p>
<p>Each file will add a line to the final description. If you put <code>.top3.</code> in the file name, e.g. <code>flavors.top3.txt</code>, the three most relevant lines in the file will be added to the prompt (any other number will do).</p>
<div class="highlight"><pre><span></span><code>For example of what text files to use, see https://github.com/pharmapsychotic/clip-interrogator/tree/main/data.
In fact, you can just take files from there and use them - just skip artists.txt because you already have a list of artists in artists.csv (or use that too, who's going to stop you).
Each file adds one line of text to the final description.
If you add ".top3." to filename, for example, flavors.top3.txt, the three most relevant lines from this file will be added to the prompt (other numbers also work).
</code></pre></div>
<h3 id="face-restorationthree-dimensional-face-restoration"><strong>Face restorationThree dimensional face restoration</strong></h3>
<p>Only for real people's faces.</p>
<p><a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/wiki/Features#face-restoration">https://github.com/AUTOMATIC1111/stable-diffusion-webui/wiki/Features#face-restoration</a></p>
<h3 id="user-scripts">User scripts</h3>
<p>If the program is launched with <code>--allow-code</code> option, an extra text input field for script code
is available at the bottom of the page, under Scripts -&gt; Custom code. It allows you to input python
code that will do the work with the image.</p>
<p>In code, access parameters from web UI using the <code>p</code> variable, and provide outputs for web UI
using the <code>display(images, seed, info)</code> function. All globals from the script are also accessible.</p>
<p>A simple script that would just process the image and output it normally:</p>
<div class="highlight"><pre><span></span><code>import modules.processing

processed = modules.processing.process_images(p)

print("Seed was: " + str(processed.seed))

display(processed.images, processed.seed, processed.info)
</code></pre></div>
<h3 id="customcss">Custom.css</h3>
<p>Create a file named <code>user.css</code> near <code>webui.py</code> and put custom CSS code into it. For example, this makes the gallery taller:</p>
<p>The following example will make the gallery taller.</p>
<div class="highlight"><pre><span></span><code>#txt2img_gallery, #img2img_gallery{
    min-height: 768px;
}
</code></pre></div>
<p>A useful tip is you can append <code>/?__theme=dark</code> to your webui url to enable a built in <em>dark theme</em></p>
<p>e.g. (<code>http://127.0.0.1:7860/?__theme=dark</code>)</p>
<p>Alternatively, you can add the <code>--theme=dark</code> to the <code>set COMMANDLINE_ARGS=</code> in <code>webui-user.bat</code></p>
<p>e.g. <code>set COMMANDLINE_ARGS=--theme=dark</code></p>
<h3 id="notificationmp3">notification.mp3 提示音</h3>
<p>If an audio file named <code>notification.mp3</code> is present in webui's root folder, it will be played when the generation process completes.</p>
<h3 id="custom-scripts">Custom Scripts</h3>
<p>To install custom scripts, place them into the scripts directory and click the Reload custom script button at the bottom in the settings tab. Custom scripts will appear in the lower-left dropdown menu on the txt2img and img2img tabs after being installed.</p>
<p>some <a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/wiki/Custom-Scripts#stylepile">notable custom scripts</a> created by Web UI users</p>
<h3 id="developing-custom-scripts">Developing custom scripts</h3>
<p>The Script class definition can be found in modules/scripts.py. To create your own custom script, create a python script that implements the class and drop it into the scripts folder, using the below example or other scripts already in the folder as a guide.</p>
<p>The Script class has four primary methods, described in further detail below with a simple example script that rotates and/or flips generated images.</p>
<p>The Script class has four main methods, described in more detail here by a simple <a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/wiki/Developing-custom-scripts">example script</a> which script can rotate and/or flip the resulting image.</p>
<h3 id="trimming-the-model-6">Trimming the model <sup id="fnref:7"><a class="footnote-ref" href="#fn:7">6</a></sup></h3>
<p>Place the <code>.ckpt</code> file to be trimmed in the <code>/stable-diffusion-webui</code> folder, save the <a href="https://raw.githubusercontent.com/harubaru/waifu-diffusion/main/scripts/prune. py">script</a> locally and delete lines 6 and 8. Then edit the name of the ckpt in the last line of prune.py.</p>
<p>For example, <code>prune_it('wd-v1-2-full-emma.ckpt')</code></p>
<p>Then run this script, the pruning process may take a few minutes.</p>
<h2 id="run">RUN</h2>
<h3 id="4gb-graphics-card-support">4GB graphics card support</h3>
<p>Optimizations for GPUs with low VRAM. This should make it possible to generate 512x512 images on videocards with 4GB memory.</p>
<p><code>--lowvram</code> is a reimplementation of an optimization idea by <a href="https://github.com/basujindal/stable-diffusion">basujindal</a>.
Model is separated into modules, and only one module is kept in GPU memory; when another module needs to run, the previous
is removed from GPU memory. The nature of this optimization makes the processing run slower -- about 10 times slower
compared to normal operation on my RTX 3090.</p>
<p><code>--medvram</code> is another optimization that should reduce VRAM usage significantly by not processing conditional and
unconditional denoising in the same batch.</p>
<p>This implementation of optimization does not require any modification to the original Stable Diffusion code.</p>
<h3 id="uninterrupted-production">Uninterrupted Production</h3>
<p>The option <strong>Uninterrupted Production</strong> will appear by right-clicking on the WebUI's generation key.</p>
<h3 id="saving">Saving</h3>
<p>Click the Save button under the output section, and generated images will be saved to a directory specified in settings; generation parameters will be appended to a csv file in the same directory.</p>
<h3 id="loading">Loading</h3>
<p>Gradio's loading graphic has a very negative effect on the processing speed of the neural network.
AUTOMATIC1111 s RTX 3090 makes images about 10% faster when the tab with gradio is not active. By default, the UI
now hides loading progress animation and replaces it with static "Loading..." text, which achieves
the same effect. Use the <code>--no-progressbar-hiding</code> commandline option to revert this and show loading animations.</p>
<h3 id="png-info">Png info</h3>
<p>Adds information about generation parameters to PNG as a text chunk. You can view this information later using any software that supports viewing PNG chunk info, for example: https://www.nayuki.io/page/png-file-chunk-inspector</p>
<h3 id="nai-4chan-ver">NAI 4chan ver</h3>
<p>4chan's version of the post-magic program will be dynamically allocated, and the vram is not enough to make up the ram.</p>
<div class="footnote">
<hr/>
<ol>
<li id="fn:2">
<p><a href="https://gist.github.com/crosstyan/f912612f4c26e298feec4a2924c41d99">关于 AUTOMATIC1111 /stable-diffusion-webui 的 FAQ:</a> <a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<li id="fn:3">
<p><a href="https://t.me/StableDiffusion_CN/50749">16xx 系显卡可以使用半精度生成图片的方式</a> <a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 2 in the text">↩</a></p>
</li>
<li id="fn:4">
<p><a href="https://huggingface.co/Deltaadams/Hentai-Diffusion/discussions/12">It's not a virus it's a checkpoint file</a> <a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 3 in the text">↩</a></p>
</li>
<li id="fn:5">
<p><a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/2017#discussioncomment-3836360">所有超网络的 X/Y</a> <a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 4 in the text">↩</a></p>
</li>
<li id="fn:6">
<p><a href="http://allophane.com/index.php/2022/10/17/roaming_info_for_latent_diffusion/">Roaming_info_for_latent_diffusion</a> <a class="footnote-backref" href="#fnref:6" title="Jump back to footnote 5 in the text">↩</a></p>
</li>
<li id="fn:7">
<p><a href="https://rentry.co/voldy#-pruning-a-ckpt-">pruning-a-ckpt</a> <a class="footnote-backref" href="#fnref:7" title="Jump back to footnote 6 in the text">↩</a></p>
</li>
</ol>
</div>
<hr/>
<div class="md-source-file">
<small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">November 26, 2022 18:40:13</span>
<br/>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">November 2, 2022 06:30:05</span>
</small>
</div>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" hidden="" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            Back to top
          </a>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright © 采用 GFDL 协议

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://t.me/s/StableDiffusion_CN_WIKI" rel="noopener" target="_blank" title="t.me">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8Zm114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452 0 0 1 3.53 6.716 43.765 43.765 0 0 1 .417 9.769Z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "toc.follow", "navigation.top", "navigation.tracking", "navigation.indexes", "navigation.expand", "navigation.sections"], "search": "../../../../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../../../assets/javascripts/bundle.4b2c34cd.min.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>