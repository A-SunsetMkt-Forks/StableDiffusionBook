
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="一个介绍 Ai 绘画的 WIKI/A WIKI about Ai painting" name="description"/>
<meta content="StableDiffusionBook Team" name="author"/>
<link href="https://stable-diffusion-book.vercel.app/en/train/DreamBooth/" rel="canonical"/>
<link href="../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-8.5.10" name="generator"/>
<title>DreamBooth - AiDraw</title>
<link href="../../../assets/stylesheets/main.472b142f.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.08040f6c.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<meta content="website" property="og:type"/>
<meta content="DreamBooth - AiDraw" property="og:title"/>
<meta content="一个介绍 Ai 绘画的 WIKI/A WIKI about Ai painting" property="og:description"/>
<meta content="https://stable-diffusion-book.vercel.app/assets/images/social/train/DreamBooth.en.png" property="og:image"/>
<meta content="image/png" property="og:image:type"/>
<meta content="1200" property="og:image:width"/>
<meta content="630" property="og:image:height"/>
<meta content="https://stable-diffusion-book.vercel.app/en/train/DreamBooth/" property="og:url"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="DreamBooth - AiDraw" name="twitter:title"/>
<meta content="一个介绍 Ai 绘画的 WIKI/A WIKI about Ai painting" name="twitter:description"/>
<meta content="https://stable-diffusion-book.vercel.app/assets/images/social/train/DreamBooth.en.png" name="twitter:image"/>
<link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gdesc-inner { font-size: 0.75rem; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                </style><script src="../../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="" data-md-color-primary="white" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#dreambooth">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="AiDraw" class="md-header__button md-logo" data-md-component="logo" href="../../" title="AiDraw">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m20.71 4.63-1.34-1.34c-.37-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.04 0-1.41M7 14a3 3 0 0 0-3 3c0 1.31-1.16 2-2 2 .92 1.22 2.5 2 4 2a4 4 0 0 0 4-4 3 3 0 0 0-3-3Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            AiDraw
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              DreamBooth
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="" data-md-color-media="" data-md-color-primary="white" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="" data-md-color-media="" data-md-color-primary="black" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg>
</label>
</form>
<div class="md-header__option">
<div class="md-select">
<button aria-label="Select language" class="md-header__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"></path></svg>
</button>
<div class="md-select__inner">
<ul class="md-select__list">
<li class="md-select__item">
<a class="md-select__link" href="../../../train/DreamBooth/" hreflang="zh">
                    简体中文
                  </a>
</li>
<li class="md-select__item">
<a class="md-select__link" href="./" hreflang="en">
                    English
                  </a>
</li>
</ul>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/sudoskys/StableDiffusionBook" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../">
        Start here
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Perpare/">
        Before start
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../install/">
        Installation
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../model/">
        Configuration
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../paint/">
        Paint guide
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../">
        Train Model
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../landing/">
        References
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="AiDraw" class="md-nav__button md-logo" data-md-component="logo" href="../../" title="AiDraw">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m20.71 4.63-1.34-1.34c-.37-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.04 0-1.41M7 14a3 3 0 0 0-3 3c0 1.31-1.16 2-2 2 .92 1.22 2.5 2 4 2a4 4 0 0 0 4-4 3 3 0 0 0-3-3Z"></path></svg>
</a>
    AiDraw
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/sudoskys/StableDiffusionBook" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_1" id="__nav_1" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../">Start here</a>
<label for="__nav_1">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Start here" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
          Start here
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../GettingStarted/news/">
        News
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../GettingStarted/term/">
        Terminology
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../GettingStarted/state/">
        Statement
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../GettingStarted/contributing/">
        Contribution Guide
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../Perpare/">Before start</a>
</div>
<nav aria-label="Before start" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Before start
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../install/">Installation</a>
<label for="__nav_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Installation" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Installation
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3_2" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2">
          Install SDWebUi
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Install SDWebUi" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
          Install SDWebUi
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../install/WebUi/set/">
        Base guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../install/WebUi/launch/">
        LaunchWebUi
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../install/WebUi/Troubleshoot/">
        Troubleshoot
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../model/">Configuration</a>
<label for="__nav_4">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Configuration" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../model/GPU/">
        Gpu Debuging
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../model/NAI/">
        NAI leak report
      </a>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4_4" id="__nav_4_4" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../model/WebUi/">WebUi 配置</a>
<label for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="WebUi 配置" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
          WebUi 配置
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../model/WebUi/base/">
        Base guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../model/WebUi/Troubleshoot/">
        Troubleshoot
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../paint/">Paint guide</a>
<label for="__nav_5">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Paint guide" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Paint guide
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_2" id="__nav_5_2" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../paint/WebUi/">Paint With WebUi</a>
<label for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Paint With WebUi" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
          Paint With WebUi
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../paint/WebUi/base/">
        Base guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../paint/WebUi/Advanced/">
        Advanced Guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../paint/WebUi/extension/">
        Extension
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_3" id="__nav_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_3">
          Application Guide
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Application Guide" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_3">
<span class="md-nav__icon md-icon"></span>
          Application Guide
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../paint/Practicalguide/">
        Practical Guide
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../">Train Model</a>
<label for="__nav_6">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Train Model" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Train Model
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Textual/">
        Textual Inversion
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Hypernetwork/">
        Hypernetwork
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          DreamBooth
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        DreamBooth
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration-requirements">
    Configuration requirements
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#training">
    Training
  </a>
<nav aria-label="Training" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#webui-extension">
    WebUi extension
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linux">
    Linux
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#windows">
    Windows
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#simple-guide">
    Simple Guide
  </a>
<nav aria-label="Simple Guide" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#datasets">
    Datasets
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-parameters">
    Basic parameters
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#native-training">
    Native Training
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tip">
    Tip
  </a>
<nav aria-label="Tip" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#token-and-tagging">
    Token and Tagging
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#augmentation">
    Augmentation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aspect-ratio-bucketing">
    Aspect Ratio Bucketing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#train-text-encoder">
    Train Text Encoder
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#multiple-concept">
    Multiple Concept
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#explanation-of-subject-images-class-images">
    Explanation of Subject images / Class images
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#other">
    Other
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../AestheticGradients/">
        AestheticGradients
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_7" id="__nav_7" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../landing/">References</a>
</div>
<nav aria-label="References" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          References
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration-requirements">
    Configuration requirements
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#training">
    Training
  </a>
<nav aria-label="Training" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#webui-extension">
    WebUi extension
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linux">
    Linux
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#windows">
    Windows
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#simple-guide">
    Simple Guide
  </a>
<nav aria-label="Simple Guide" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#datasets">
    Datasets
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-parameters">
    Basic parameters
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#native-training">
    Native Training
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tip">
    Tip
  </a>
<nav aria-label="Tip" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#token-and-tagging">
    Token and Tagging
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#augmentation">
    Augmentation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aspect-ratio-bucketing">
    Aspect Ratio Bucketing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#train-text-encoder">
    Train Text Encoder
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#multiple-concept">
    Multiple Concept
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#explanation-of-subject-images-class-images">
    Explanation of Subject images / Class images
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#other">
    Other
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/sudoskys/StableDiffusionBook/edit/main/docs/train/DreamBooth.en.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"></path></svg>
</a>
<h1 id="dreambooth">DreamBooth</h1>
<blockquote>
<p>TODO/HELP This page may contain inaccurate content</p>
</blockquote>
<p>DreamBooth's model is a new approach to text-to-image "personalisation" (which can be adapted to the user's specific image generation needs) of diffusion models.</p>
<p>To use it, simply export the model as a ckpt and you can then load it into the UI you want.</p>
<p>This section uses Shivam Shirao's <a href="https://github.com/ShivamShrirao/diffusers/tree/main/examples/dreambooth">version</a></p>
<h2 id="configuration-requirements">Configuration requirements</h2>
<p>Windows systems require at least 16, Linux systems require more than 8 GB of VRAM</p>
<h2 id="training">Training</h2>
<h3 id="webui-extension">WebUi extension</h3>
<p>https://github.com/d8ahazard/sd_dreambooth_extension</p>
<h3 id="linux">Linux</h3>
<p>Use the code directly from the Colab notebook below.</p>
<p><a href="https://colab.research.google.com/drive/17yM4mlPVOFdJE_81oWBz5mXH9cxvhmz8">Nyanko Lepsoni s Colab notebook</a></p>
<p><a href="https://colab.research.google.com/drive/1C1vVZ59S4kWfL7jIsczyLpmxbD4cOA-k">RcINS s Colab notebook</a></p>
<p>The above notebook is from <a href="https://t.me/StableDiffusion_CN/196744">Community Top</a></p>
<p><a href="https://github.com/crosstyan/dreambooth-scripts-for-autodl">Project for Autodl</a></p>
<h3 id="windows">Windows</h3>
<p>From [^18]</p>
<p><code>Dreambooth</code> on Windows can use an optimized version of ShivamShrirao to save VRAM.</p>
<p><a href="https://github.com/ShivamShrirao/diffusers/tree/main/examples /dreambooth">diffusers/examples/dreambooth at main - ShivamShrirao/diffusers - GitHub</a></p>
<p>However, the deployment method used on <code>Linux</code> will not work directly on windows due to the associated link libraries, and for the same reason the minimum 9.9G VRAM requirement on colab for this optimized version should be slightly higher on windows, so it is recommended to <strong>use a video card with at least 12G of VRAM</strong>.</p>
<blockquote>
<p>I have only tested it successfully on a 16G memory PC, 12G is theoretically possible, to be tested.</p>
</blockquote>
<p>Please back up before modifying or overwriting files in the original library!</p>
<p>Prepare the environment <code>Git</code>, <code>Python</code>, <code>MiniConda</code> (or <code>MiniConda</code> ).</p>
<p>The following steps work in python 3.8, windows 10 22H2, other environments have not been tested</p>
<p><strong>Create a working directory in which to build the venv virtual environment for python 3.8</strong></p>
<div class="highlight"><pre><span></span><code>    python -m venv --system-site-packages venv_dbwin
    venv_dbwin<span class="se">\S</span>cripts<span class="se">\a</span>ctivate
    python.exe -m pip install --upgrade pip
</code></pre></div>
<p>Clone the optimized version of ShivamShrirao's dreambooth into a working directory and install the relevant dependencies ,using the <a href="https://github.com/huggingface/diffusers/tree/7465397f33d5de75dcccc155e3fb9a232fcbb0a0">build-version</a>, subsequent versions may not support this method.</p>
<div class="highlight"><pre><span></span><code>git clone https://github.com/ShivamShrirao/diffusers
<span class="nb">cd</span> diffusers
pip install -e .
<span class="nb">cd</span> examples<span class="se">\d</span>reambooth
pip install -U -r requirements.txt
pip install OmegaConf
pip install pytorch_lightning
pip install einops
pip install <span class="nv">bitsandbytes</span><span class="o">==</span><span class="m">0</span>.34
</code></pre></div>
<p>Once this is done, the bitsandbytes support needs to be implemented on windows according to the method in <a href="https://github.com/TimDettmers/bitsandbytes/issues/30#issuecomment-1257676341">this Issue</a></p>
<p>Manually copy the <code>libbitsandbytes_cuda116.dll</code> file from <a href="https://github.com/DeXtmL/bitsandbytes-win-prebuilt">this Issue</a> to the working directory in <code>venv_diffusers\Lib\site- packages\bitsandbytes</code> in the working directory, next to <code>libbitsandbytes_cuda116.so</code>.</p>
<p>Then change the script to apply it, either manually or, for convenience, by downloading the following file to replace it.</p>
<p>Overwrite <code>cextension.py</code> - https://pastebin.com/jjgxuh8V with the <code>venv_diffusers\Lib\site-packages\bitsandbytes</code> directory.</p>
<p>Overwrite <code>main.py</code> - https://pastebin.com/BsEzpdpw to the <code>venv_diffusers\Lib\site-packages\bitsandbytes\cuda_setup</code> directory.</p>
<p><strong>install PyTorch and Torchvision</strong></p>
<p><code>pip install torch==1.12.1+cu116 torchvision==0.13.1+cu116 --extra-index-url https://download.pytorch.org/whl/cu116</code></p>
<p><strong>Go to Python and test the call:</strong>
<div class="highlight"><pre><span></span><code>    python
    &gt;&gt;&gt;import bitsandbytes
</code></pre></div>
如果没有报错证明安装成功（ <code>Ctrl + Z</code> 并回车退出 python）</p>
<p><strong>set accelerate</strong></p>
<div class="highlight"><pre><span></span><code>    accelerate config

    In which compute environment are you running? ([0] This machine, [1] AWS (Amazon SageMaker)): 0
    Which type of machine are you using? ([0] No distributed training, [1] multi-CPU, [2] multi-GPU, [3] TPU [4] MPS): 0
    Do you want to run your training on CPU only (even if a GPU is available)? [yes/NO]:NO
    Do you want to use DeepSpeed? [yes/NO]:NO
    Do you wish to use FP16 or BF16 (mixed precision)? [NO/fp16/bf16]: fp16
</code></pre></div>
<p>按照上面的设置选项，也就是（0，0，NO，NO，fp16）</p>
<p>Follow the setting options above, which are (0, 0, NO, NO, fp16)</p>
<p><strong>Modify VRAM optimisation</strong></p>
<p>Since xformers are not available, use <a href="https://github.com/lucidrains/memory-efficient-attention-pytorch/blob/main/memory_efficient_attention_pytorch/flash_attention.py">this file</a> as an optimization method instead.</p>
<p>Overwrite attention.py - https://pastebin.com/nmwTrGB9 with the <code>diffusers\src\diffusers\models</code> directory.</p>
<p>This completes the environment configuration and you are ready to start training. Please refer to ShivamShrirao's readme file and notebook file for specific parameters to use</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>I trained using the following parameters.</p>
<div class="highlight"><pre><span></span><code>    accelerate launch --num_cpu_threads_per_process <span class="m">8</span> diffusers/examples/dreambooth/train_dreambooth.py --pretrained_model_name_or_path<span class="o">=</span>models/diffusers_model --pretrained_vae_name_or_path<span class="o">=</span>models/diffusers_model/vae --output_dir<span class="o">=</span>models --concepts_list<span class="o">=</span><span class="s2">"concepts_list.json"</span> --with_prior_preservation --prior_loss_weight<span class="o">=</span><span class="m">1</span>.0 --seed<span class="o">=</span><span class="m">1337</span> --resolution<span class="o">=</span><span class="m">512</span> --mixed_precision<span class="o">=</span><span class="s2">"fp16"</span> --lr_scheduler<span class="o">=</span><span class="s2">"constant"</span> --use_8bit_adam --gradient_accumulation_steps<span class="o">=</span><span class="m">1</span> --train_batch_size<span class="o">=</span><span class="m">1</span> --max_train_steps<span class="o">=</span><span class="m">800</span> --save_interval<span class="o">=</span><span class="m">10000</span> --learning_rate<span class="o">=</span>1e-6 --num_class_images<span class="o">=</span><span class="m">100</span> --lr_warmup_steps<span class="o">=</span><span class="m">0</span> --gradient_checkpointing
</code></pre></div>
</div>
<p><a class="glightbox" data-desc-position="bottom" data-description="" data-height="auto" data-title="" data-width="100%" href="https://user-images.githubusercontent.com/44570237/198906326-21b4f779-f870-4012-84c1-d5ac1dae0411.png"><img alt="image" src="https://user-images.githubusercontent.com/44570237/198906326-21b4f779-f870-4012-84c1-d5ac1dae0411.png"/></a></p>
<p>If you only have one graphics card with no more than 12G of VRAM and need to use it for Windows, please close all programs or web pages that consume VRAM to reduce additional memory consumption before training.</p>
<p>diffusers cannot be trained directly using ckpt files, they need to be converted first, as shown in the example below.</p>
<div class="highlight"><pre><span></span><code>    python diffusers<span class="se">\s</span>cripts<span class="se">\c</span>onvert_original_stable_diffusion_to_diffusers.py --checkpoint_path model.ckpt --original_config_file v1- inference.yaml --scheduler_type ddim --dump_path models/diffusers_model
</code></pre></div>
<p>The training is also packaged and converted to ckpt, which can be used in the WebUI of the AUTOMATIC1111.</p>
<div class="highlight"><pre><span></span><code>    python diffusers\scripts\convert_diffusers_to_original_stable_diffusion.py --model_path models/resultModel --checkpoint_path result. ckpt --half
</code></pre></div>
<blockquote>
<p>This is a temporary solution in anticipation of an official Windows adaptation.</p>
</blockquote>
<h2 id="simple-guide">Simple Guide</h2>
<p>Enable prior_preservation to start DreamBooth training. The lower the prior_loss_weight, the harder it is to fit, but also the harder it is to learn.</p>
<p><a href="[crosstyan-s-guide](https://gist.github.com/crosstyan/f912612f4c26e298feec4a2924c41d99)">3^</a></p>
<h3 id="datasets">Datasets</h3>
<p>The creation of the dataset is the most important part of getting good, stable results in Dreambooth training.</p>
<ul>
<li>Content requirements</li>
</ul>
<p>Always use high quality samples, content such as motion blur or low resolution can be trained into the model and affect the quality of the work.</p>
<p>When training for a specific style, pick samples that have good consistency. Ideally, only pick images of the artist you are training. Avoid fan art or anything with a different style, unless your goal is something like stylistic fusion.</p>
<p>For themes, samples with black or white backgrounds are extremely helpful.</p>
<blockquote>
<p>Transparent backgrounds are fine, but sometimes they leave a white outline around the subject, so I don't recommend using transparent backgrounds at the moment.</p>
</blockquote>
<p>If you need to make your Dreambooth model more diverse, try to use different environments, lighting, hairstyles, expressions, poses, angles and distances from the subject.</p>
<p>Be sure to include images with normal backgrounds (e.g. of the object in a scene). Using only images with simple backgrounds will be less effective.</p>
<p>Avoid having hands stuck to the head in your renders by removing all images where the hands are too close to or touching the head.</p>
<p>If you need to avoid a fisheye lens effect in your renders, remove all selfie images.</p>
<p>To avoid unnatural over-blurring, make sure the image does not contain a false heavy depth of field or bokeh.</p>
<ul>
<li>Adjustments</li>
</ul>
<p>Once you have collected the photos for your dataset, crop and resize all images to a 512x512 square and remove any watermarks, logos, people/limb cut off by the edges of the image, or anything else you don't want to be trained on.</p>
<p>Save the images in PNG format and place all images in the train folder.</p>
<ul>
<li>Resuming training from a checkpoint</li>
</ul>
<p>The MODEL_NAME of the parameter is changed to the position of the last model.</p>
<h3 id="basic-parameters">Basic parameters</h3>
<p>Basically all explanations and examples are in the Colab notebook given above.</p>
<p><a href="https://wandb.ai/psuraj/dreambooth/reports/Dreambooth-training-analysis--VmlldzoyNzk0NDc3">Analysis of experiments using Dreambooth to train stable diffusion</a></p>
<ul>
<li>Instance Image </li>
</ul>
<p>The target you are training on</p>
<ul>
<li>Instance Prompt </li>
</ul>
<p>The default implementation is to share a prompt globally, which may work for a few shots, i.e. DreamBooth (original paper method) but not when you have more targets to train, you can turn on the combine_prompt_from_txt option to have a prompt (usually txt) for each instance. The prompt (usually txt) is DreamBooth (alternative method). The Instance Prompt should contain a unique identifier [V]. See the Token section below.</p>
<ul>
<li>Class/Regularization </li>
</ul>
<p>The Image should be an auto-generated image, used to detect the AI's prior knowledge. No non-AI generated images should be placed. If you are sure about this why not use Native Training? (Adulteration of homogeneous images in clas images was an early discovery detour and is no longer encouraged)</p>
<ul>
<li>Class Prompt </li>
</ul>
<p>Feel free, it's automatically generated anyway, it's recommended to generate it separately from other inference front-ends that support CLIP SKIP 2 and drop it into the class img set, again reading from a separate txt.</p>
<ul>
<li>learning_rate</li>
</ul>
<p>learning_rate</p>
<p>DreamBooth itself has a very strong copy and paste effect. Use class/regularization to suppress this effect.</p>
<h3 id="native-training">Native Training</h3>
<p>Unlike DreamBooth, Native Training uses your training set for training directly and does not require a class image.</p>
<p>Turn off the <code>prior_preservation</code> option to start training natively, which is the recommended way to train a drawing style. However, you will need to prepare an Instance Prompt for each graph, just like a traditional hypernetwork with the same file name, usually txt.</p>
<p>Native Training requires a large dataset, but the amount varies, in the range [100, 10000], more is better (but hand-picking is still recommended)</p>
<h3 id="tip">Tip</h3>
<h4 id="token-and-tagging">Token and Tagging</h4>
<table>
<thead>
<tr>
<th>What your training set is about</th>
<th>Instance prompt must contain</th>
<th>Class prompt should describe</th>
</tr>
</thead>
<tbody>
<tr>
<td>A object/person</td>
<td><code>[V]</code></td>
<td>The object's type and/or characteristics</td>
</tr>
<tr>
<td>A artist's style</td>
<td><code>by [V]</code></td>
<td>The common characteristics of the training set</td>
</tr>
</tbody>
</table>
<p>Suppose the character you want to train is called <code>[N]</code>, you should not use <code>[N]</code> directly as a representative feature word, but rather use a concept that exists in <a href="https://huggingface.co/openai/clip-vit-large-patch14/raw/main/vocab.json">the glossary</a> but Instead, you should use the word <code>[V]</code>, which is present in <a href="">the glossary</a> but has no equivalent or is not obvious. The token length can be verified at <a href="https://novelai.net/tokenizer">NovelAI Tokenizer</a> to help determine this.</p>
<blockquote>
<p>Note: The example word <code>sks</code> used in the original paper is the same as the real firearm <a href="https://en.wikipedia.org/wiki/SKS">SKS</a>, which is not a suitable word to be used. However, if you are trained enough you may be able to override its influence.</p>
</blockquote>
<p>We recommend using <a href="https://github.com/crosstyan/blip_helper">crosstyan/blip_helper</a> to label your images. Or use <a href="https://github.com/KichangKim/DeepDanbooru">DeepDanbooru</a> and <a href="https://github.com/salesforce/BLIP">BLIP</a></p>
<h4 id="augmentation">Augmentation</h4>
<ul>
<li>There are many ways to manipulate data: the most common are inversion, rotation, brightness and cropping.</li>
</ul>
<p>Metaphysical fragmentation, or separate cropping of backgrounds/heads etc., may help</p>
<h4 id="aspect-ratio-bucketing">Aspect Ratio Bucketing</h4>
<p><code>aspect_ratio_bucket</code> is set to <code>enable: true</code>. See <a href="https://github.com/NovelAI/novelai-aspect-ratio-bucketing">Aspect Ratio Bucketing</a>.</p>
<p>ARB for short, the original version can only use <code>1:1</code> images, turning on ARB makes it possible to train non-<code>1:1</code> images, but not at any scale.</p>
<div class="highlight"><pre><span></span><code>[[256 1024], [320 1024], [384 1024], [384 960], [384 896], [448 832], [512 768], [512 704], [512 512], [576 640], [640 576], [704 512], [768 512], [832 448], [ 896 384], [ 960 384], [1024 384], [1024 320], [1024 256]]
</code></pre></div>
<p>Images that are not in the bucket will be cropped.</p>
<p>ARB does not phase well with DreamBooth and is only recommended for Native Training.</p>
<h4 id="train-text-encoder">Train Text Encoder</h4>
<p>I would call this a bad Text Encoder, and do not recommend its use.</p>
<p>There is a metaphysical argument that it should be turned off after a certain percentage/epoch/step of training to prevent overplaying.</p>
<ul>
<li>Your initial instance prompt should be long, outlining your training goal (but not too long, not covering your usual words) (e.g. girl I would replace with woman, 1boy with male)</li>
<li>Firstly, the text prompt should be read in as a message. It's not effective because too many words are distracting.</li>
<li>Secondly, the instance prompt cannot be filled in with just one <code>[V]</code> or that word will be lost too.</li>
<li>Try frying at high heat</li>
</ul>
<p>If you've refined the call, add the word you've trained the instance prompt with, depending on how much flavour you want.</p>
<p>It might also work well for character training.</p>
<h4 id="multiple-concept">Multiple Concept</h4>
<p>With DreamBooth it is possible to train multiple concepts/characters/actions/objects. However, if you train two characters, you can't reason about them at the same time, the features of both will be mixed up.</p>
<p>If you check the <code>--concept_list</code> parameter with other versions of the DreamBooth training method, you can read in a similar <code>json</code> file.</p>
<ul>
<li>Choosing the number of training steps</li>
</ul>
<p>In general, the number of training steps = (reference image x 100)</p>
<ul>
<li>concepts_list.json</li>
</ul>
<div class="highlight"><pre><span></span><code># You can also add multiple concepts here. try tweaking `--max_train_steps` accordingly.

concepts_list = [
    {
        "instance_prompt": "photo of zwx dog",
        "class_prompt": "photo of a dog",
        "instance_data_dir":"/content/data/zwx",
        "class_data_dir": "/content/data/dog"
    },
# {
# "instance_prompt": "photo of ukj person",
# "class_prompt": "photo of a person",
# "instance_data_dir":"/content/data/ukj",
# "class_data_dir":"/content/data/person"
# }
]

# ``class_data_dir`` contains regularization images
</code></pre></div>
<h3 id="explanation-of-subject-images-class-images">Explanation of Subject images / Class images</h3>
<p>Introduction from <a href="[good_dreambooth_formula](https://www.reddit.com/r/StableDiffusion/comments/ybxv7h/good_dreambooth_formula/)">2^</a></p>
<p>Subject images (or instance images as you see them in your notebook) are the images you want to train on, so if you want your own looking model, you can take 20 to 40 of your own images and input these. The instance name is a unique identifier that will indicate the trained object in the prompt, personally I use "namelastname", most notebooks use "sks" but it is best to change it.</p>
<p>You are in effect telling the AI to introduce you to the large database, to do this you choose a class, i.e. the one that best fits the class you are training, for people it is common to use "person", "man"/"woman" etc.</p>
<p>The purpose of using Class images in training is to prevent the features of the object from "bleeding over" to other objects in the same Class. Without Class images as a reference point, the AI tends to merge your face with other faces that appear in the Class. Other people who look like celebrities will somewhat resemble you.</p>
<h2 id="other">Other</h2>
<p><a href="https://github.com/TheLastBen/fast-stable-diffusion">fast-stable-diffusion colabs</a></p>
<p>Related <a href="https://colab.research.google.com/github/ShivamShrirao/diffusers/blob/main/examples/dreambooth/DreamBooth_Stable_Diffusion.ipynb#scrollTo=K6xoHWSsbcS3">DreamBooth_Stable_Diffusion</a> and
<a href="https://colab.research.google.com/github/TheLastBen/fast-stable-diffusion/blob/main/fast-DreamBooth.ipynb">fast-DreamBooth</a></p>
<p><a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/2927">Dreambooth Gui</a></p>
<p><a href="https://github.com/ShivamShrirao/diffusers/tree/main/examples/dreambooth">ShivamShrirao/diffusers</a></p>
<!--
[飞桨dreambooth训练教程](https://docs.qq.com/doc/DUHVuZ3BNV0FkT1R6)
-->
<p>https://github.com/XavierXiao/Dreambooth-Stable-Diffusion</p>
<hr/>
<div class="md-source-file">
<small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">November 18, 2022 19:23:51</span>
<br/>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">November 3, 2022 12:19:59</span>
</small>
</div>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" hidden="" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            Back to top
          </a>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Hypernetwork" class="md-footer__link md-footer__link--prev" href="../Hypernetwork/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Hypernetwork
            </div>
</div>
</a>
<a aria-label="Next: AestheticGradients" class="md-footer__link md-footer__link--next" href="../AestheticGradients/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              AestheticGradients
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright © 采用 GFDL 协议

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://t.me/s/StableDiffusion_CN_WIKI" rel="noopener" target="_blank" title="t.me">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8Zm114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452 0 0 1 3.53 6.716 43.765 43.765 0 0 1 .417 9.769Z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "toc.follow", "navigation.top", "navigation.tracking", "navigation.indexes", "navigation.expand", "navigation.sections"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="../../../assets/javascripts/bundle.d6c3db9e.min.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom"});})</script></body>
</html>